SET AUTOCOMMIT=1;

CREATE DATABASE IF NOT EXISTS soccerhub_bd;

USE soccerhub_bd;


CREATE TABLE IF NOT EXISTS soccerhub_bd.COUNTRY (
    COUNTRY_ID INT (50) NOT NULL AUTO_INCREMENT,
    POBLATION     INT (20) NOT NULL,
    COUNTRY_NAME      VARCHAR(14) NOT NULL,
    PRIMARY KEY (COUNTRY_ID) ) ;

CREATE TABLE IF NOT EXISTS soccerhub_bd.NATIONAL_TEAM (
    NATIONAL_TEAM_ID  INT (25) NOT NULL AUTO_INCREMENT,
    COUNTRY_ID     INT (50) NOT NULL,
    TEAM_NAME      VARCHAR(14) NOT NULL,
    TROPHIES       INT(20) NOT NULL,
    PRIMARY KEY (NATIONAL_TEAM_ID),
    FOREIGN KEY (COUNTRY_ID) REFERENCES soccerhub_bd.COUNTRY(COUNTRY_ID)) ;

CREATE TABLE IF NOT EXISTS soccerhub_bd.LEAGUE (
    LEAGUE_ID  INT (25) NOT NULL AUTO_INCREMENT,
    LEAGUE_NAME     VARCHAR (50) NOT NULL,
    COUNTRY      INT(50) NOT NULL,
    PRIMARY KEY (LEAGUE_ID),
    FOREIGN KEY (COUNTRY) REFERENCES soccerhub_bd.COUNTRY(COUNTRY_ID)) ;

CREATE TABLE IF NOT EXISTS soccerhub_bd.TEAM (
    TEAM_ID  INT (25) NOT NULL AUTO_INCREMENT,
    TEAM_NAME     VARCHAR (45) NOT NULL,
    CITY      VARCHAR(45) NOT NULL,
    TROPHIES       INT(20) NOT NULL,
    LEAGUE         INT(25) NOT NULL,
    PRIMARY KEY (TEAM_ID),
    FOREIGN KEY (LEAGUE) REFERENCES soccerhub_bd.LEAGUE(LEAGUE_ID)) ;

CREATE TABLE IF NOT EXISTS soccerhub_bd.PLAYER (
    PLAYER_ID  INT (25) NOT NULL AUTO_INCREMENT,
    PLAYER_NAME       VARCHAR(40) NOT NULL,
    SURNAME    VARCHAR(40) NOT NULL,
    COUNTRY_ID     INT (50) NOT NULL,
    NATIONAL_TEAM      INT(25) NOT NULL,
    TEAM       INT(50) NOT NULL,
    PRIMARY KEY (PLAYER_ID),
    FOREIGN KEY (COUNTRY_ID) REFERENCES soccerhub_bd.COUNTRY(COUNTRY_ID),
    FOREIGN KEY (NATIONAL_TEAM) REFERENCES soccerhub_bd.NATIONAL_TEAM(NATIONAL_TEAM_ID),
    FOREIGN KEY (TEAM) REFERENCES soccerhub_bd.TEAM(TEAM_ID)) ;